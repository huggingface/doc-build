import{S as Qe,i as Ve,s as Xe,e as o,k as u,w as We,t as r,M as Ye,c as i,d as n,m as f,a,x as Ge,h as s,b as c,G as t,g as d,y as Je,L as Ze,q as Re,o as je,B as Ke,v as et}from"../../chunks/vendor-hf-doc-builder.js";import{I as tt}from"../../chunks/IconCopyLink-hf-doc-builder.js";import{C as nt}from"../../chunks/CodeBlock-hf-doc-builder.js";function ot(Pe){let p,U,h,v,T,b,te,D,ne,B,q,oe,W,y,P,I,ie,ae,re,_,se,O,le,de,S,ce,ue,G,m,fe,H,me,pe,F,he,_e,J,k,R,E,ve,z,ye,Ee,j,w,M,$,we,xe,N,g,be,K,x,ke,A,$e,ge,Q;return b=new tt({}),k=new nt({props:{code:`optimum[onnxruntime]==1.2.3
mkl-include
mkl`,highlighted:`optimum[onnxruntime]==1.2.3
mkl-include
mkl`}}),{c(){p=o("meta"),U=u(),h=o("h1"),v=o("a"),T=o("span"),We(b.$$.fragment),te=u(),D=o("span"),ne=r("Add custom Dependencies"),B=u(),q=o("p"),oe=r("Inference Endpoints\u2019 base image includes all required libraries to run inference on \u{1F917} Transformers models, but it also supports custom dependencies. This is useful if you want to:"),W=u(),y=o("ul"),P=o("li"),I=o("a"),ie=r("customize your inference pipeline"),ae=r(" and need additional Python dependencies"),re=u(),_=o("li"),se=r("run a model which requires special dependencies like the newest or a fixed version of a library (for example, "),O=o("code"),le=r("tapas"),de=r(" ("),S=o("code"),ce=r("torch-scatter"),ue=r("))."),G=u(),m=o("p"),fe=r("To add custom dependencies, add a "),H=o("code"),me=r("[requirements.txt](https://huggingface.co/philschmid/distilbert-onnx-banking77/blob/main/requirements.txt)"),pe=r(" file with the Python dependencies you want to install in your model repository on the Hugging Face Hub. When your Endpoint and Image artifacts are created, Inference Endpoints checks if the model repository contains a "),F=o("code"),he=r("requirements.txt"),_e=r(" file and installs the dependencies listed within."),J=u(),We(k.$$.fragment),R=u(),E=o("p"),ve=r("Take a look at the "),z=o("code"),ye=r("requirements.txt"),Ee=r(" files in the following model repositories as an example:"),j=u(),w=o("ul"),M=o("li"),$=o("a"),we=r("Optimum and onnxruntime"),xe=u(),N=o("li"),g=o("a"),be=r("diffusers"),K=u(),x=o("p"),ke=r("For more information, take a look at how you can create and install dependencies when you "),A=o("a"),$e=r("use your own custom container"),ge=r(" for inference."),this.h()},l(e){const l=Ye('[data-svelte="svelte-1phssyn"]',document.head);p=i(l,"META",{name:!0,content:!0}),l.forEach(n),U=f(e),h=i(e,"H1",{class:!0});var V=a(h);v=i(V,"A",{id:!0,class:!0,href:!0});var Ie=a(v);T=i(Ie,"SPAN",{});var Ae=a(T);Ge(b.$$.fragment,Ae),Ae.forEach(n),Ie.forEach(n),te=f(V),D=i(V,"SPAN",{});var Ce=a(D);ne=s(Ce,"Add custom Dependencies"),Ce.forEach(n),V.forEach(n),B=f(e),q=i(e,"P",{});var Le=a(q);oe=s(Le,"Inference Endpoints\u2019 base image includes all required libraries to run inference on \u{1F917} Transformers models, but it also supports custom dependencies. This is useful if you want to:"),Le.forEach(n),W=f(e),y=i(e,"UL",{});var X=a(y);P=i(X,"LI",{});var qe=a(P);I=i(qe,"A",{href:!0});var Te=a(I);ie=s(Te,"customize your inference pipeline"),Te.forEach(n),ae=s(qe," and need additional Python dependencies"),qe.forEach(n),re=f(X),_=i(X,"LI",{});var C=a(_);se=s(C,"run a model which requires special dependencies like the newest or a fixed version of a library (for example, "),O=i(C,"CODE",{});var De=a(O);le=s(De,"tapas"),De.forEach(n),de=s(C," ("),S=i(C,"CODE",{});var Oe=a(S);ce=s(Oe,"torch-scatter"),Oe.forEach(n),ue=s(C,"))."),C.forEach(n),X.forEach(n),G=f(e),m=i(e,"P",{});var L=a(m);fe=s(L,"To add custom dependencies, add a "),H=i(L,"CODE",{});var Se=a(H);me=s(Se,"[requirements.txt](https://huggingface.co/philschmid/distilbert-onnx-banking77/blob/main/requirements.txt)"),Se.forEach(n),pe=s(L," file with the Python dependencies you want to install in your model repository on the Hugging Face Hub. When your Endpoint and Image artifacts are created, Inference Endpoints checks if the model repository contains a "),F=i(L,"CODE",{});var He=a(F);he=s(He,"requirements.txt"),He.forEach(n),_e=s(L," file and installs the dependencies listed within."),L.forEach(n),J=f(e),Ge(k.$$.fragment,e),R=f(e),E=i(e,"P",{});var Y=a(E);ve=s(Y,"Take a look at the "),z=i(Y,"CODE",{});var Fe=a(z);ye=s(Fe,"requirements.txt"),Fe.forEach(n),Ee=s(Y," files in the following model repositories as an example:"),Y.forEach(n),j=f(e),w=i(e,"UL",{});var Z=a(w);M=i(Z,"LI",{});var ze=a(M);$=i(ze,"A",{href:!0,rel:!0});var Me=a($);we=s(Me,"Optimum and onnxruntime"),Me.forEach(n),ze.forEach(n),xe=f(Z),N=i(Z,"LI",{});var Ne=a(N);g=i(Ne,"A",{href:!0,rel:!0});var Ue=a(g);be=s(Ue,"diffusers"),Ue.forEach(n),Ne.forEach(n),Z.forEach(n),K=f(e),x=i(e,"P",{});var ee=a(x);ke=s(ee,"For more information, take a look at how you can create and install dependencies when you "),A=i(ee,"A",{href:!0});var Be=a(A);$e=s(Be,"use your own custom container"),Be.forEach(n),ge=s(ee," for inference."),ee.forEach(n),this.h()},h(){c(p,"name","hf:doc:metadata"),c(p,"content",JSON.stringify(it)),c(v,"id","add-custom-dependencies"),c(v,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),c(v,"href","#add-custom-dependencies"),c(h,"class","relative group"),c(I,"href","/docs/inference-endpoints/guides/custom_handler"),c($,"href","https://huggingface.co/philschmid/distilbert-onnx-banking77/blob/main/requirements.txt"),c($,"rel","nofollow"),c(g,"href","https://huggingface.co/philschmid/stable-diffusion-v1-4-endpoints/blob/main/requirements.txt"),c(g,"rel","nofollow"),c(A,"href","/docs/inference-endpoints/guides/custom_handler#3-customize-endpointhandler")},m(e,l){t(document.head,p),d(e,U,l),d(e,h,l),t(h,v),t(v,T),Je(b,T,null),t(h,te),t(h,D),t(D,ne),d(e,B,l),d(e,q,l),t(q,oe),d(e,W,l),d(e,y,l),t(y,P),t(P,I),t(I,ie),t(P,ae),t(y,re),t(y,_),t(_,se),t(_,O),t(O,le),t(_,de),t(_,S),t(S,ce),t(_,ue),d(e,G,l),d(e,m,l),t(m,fe),t(m,H),t(H,me),t(m,pe),t(m,F),t(F,he),t(m,_e),d(e,J,l),Je(k,e,l),d(e,R,l),d(e,E,l),t(E,ve),t(E,z),t(z,ye),t(E,Ee),d(e,j,l),d(e,w,l),t(w,M),t(M,$),t($,we),t(w,xe),t(w,N),t(N,g),t(g,be),d(e,K,l),d(e,x,l),t(x,ke),t(x,A),t(A,$e),t(x,ge),Q=!0},p:Ze,i(e){Q||(Re(b.$$.fragment,e),Re(k.$$.fragment,e),Q=!0)},o(e){je(b.$$.fragment,e),je(k.$$.fragment,e),Q=!1},d(e){n(p),e&&n(U),e&&n(h),Ke(b),e&&n(B),e&&n(q),e&&n(W),e&&n(y),e&&n(G),e&&n(m),e&&n(J),Ke(k,e),e&&n(R),e&&n(E),e&&n(j),e&&n(w),e&&n(K),e&&n(x)}}}const it={local:"add-custom-dependencies",title:"Add custom Dependencies"};function at(Pe){return et(()=>{new URLSearchParams(window.location.search).get("fw")}),[]}class dt extends Qe{constructor(p){super();Ve(this,p,at,ot,Xe,{})}}export{dt as default,it as metadata};
