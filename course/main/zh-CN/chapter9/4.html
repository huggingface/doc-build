<meta charset="utf-8" /><meta http-equiv="content-security-policy" content=""><meta name="hf:doc:metadata" content="{&quot;local&quot;:&quot;&quot;,&quot;sections&quot;:[{&quot;local&quot;:null,&quot;sections&quot;:[{&quot;local&quot;:&quot;gradio&quot;,&quot;title&quot;:&quot;æ‰“ç£¨ä½ çš„ Gradio æ¼”ç¤º:&quot;},{&quot;local&quot;:&quot;&quot;,&quot;title&quot;:&quot;ä½¿ç”¨ä¸´æ—¶é“¾æ¥åˆ†äº«æ‚¨çš„æ¼”ç¤º&quot;},{&quot;local&quot;:&quot;hugging-face-spaces&quot;,&quot;title&quot;:&quot;åœ¨ Hugging Face Spaces ä¸Šæ‰˜ç®¡æ‚¨çš„æ¼”ç¤º&quot;}],&quot;title&quot;:null},{&quot;local&quot;:&quot;&quot;,&quot;title&quot;:&quot;âœï¸ è®©æˆ‘ä»¬åº”ç”¨å®ƒ!&quot;}],&quot;title&quot;:&quot;ä¸ä»–äººåˆ†äº«æ¼”ç¤º&quot;}" data-svelte="svelte-1phssyn">
	<link rel="modulepreload" href="/docs/course/main/zh-CN/_app/assets/pages/__layout.svelte-hf-doc-builder.css">
	<link rel="modulepreload" href="/docs/course/main/zh-CN/_app/start-hf-doc-builder.js">
	<link rel="modulepreload" href="/docs/course/main/zh-CN/_app/chunks/vendor-hf-doc-builder.js">
	<link rel="modulepreload" href="/docs/course/main/zh-CN/_app/chunks/paths-hf-doc-builder.js">
	<link rel="modulepreload" href="/docs/course/main/zh-CN/_app/pages/__layout.svelte-hf-doc-builder.js">
	<link rel="modulepreload" href="/docs/course/main/zh-CN/_app/pages/chapter9/4.mdx-hf-doc-builder.js">
	<link rel="modulepreload" href="/docs/course/main/zh-CN/_app/chunks/Youtube-hf-doc-builder.js">
	<link rel="modulepreload" href="/docs/course/main/zh-CN/_app/chunks/IconCopyLink-hf-doc-builder.js">
	<link rel="modulepreload" href="/docs/course/main/zh-CN/_app/chunks/CodeBlock-hf-doc-builder.js">
	<link rel="modulepreload" href="/docs/course/main/zh-CN/_app/chunks/DocNotebookDropdown-hf-doc-builder.js"> 





<h1 id="">ä¸ä»–äººåˆ†äº«æ¼”ç¤º</h1>


<div class="flex space-x-1 absolute z-10 right-0 top-0">
	<a href="https://colab.research.google.com/github/huggingface/notebooks/blob/master/course/chapter9/section4.ipynb" target="_blank"><img alt="Open In Colab" class="!m-0" src="https://colab.research.google.com/assets/colab-badge.svg"></a>
	<a href="https://studiolab.sagemaker.aws/import/github/huggingface/notebooks/blob/master/course/chapter9/section4.ipynb" target="_blank"><img alt="Open In Studio Lab" class="!m-0" src="https://studiolab.sagemaker.aws/studiolab.svg"></a></div>
<p>ç°åœ¨æ‚¨å·²ç»æ„å»ºäº†ä¸€ä¸ªæ¼”ç¤ºï¼Œæ‚¨å¯èƒ½å¸Œæœ›ä¸å…¶ä»–äººåˆ†äº«å®ƒã€‚ æ¢¯åº¦æ¼”ç¤º
å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼å…±äº«ï¼šä½¿ç”¨ <strong><em>temporary share link</em></strong> æˆ– <strong><em>permanent hosting on Spaces</em></strong>ã€‚</p>
<p>æˆ‘ä»¬å°†å¾ˆå¿«ä»‹ç»è¿™ä¸¤ç§æ–¹æ³•ã€‚ ä½†åœ¨åˆ†äº«æ¼”ç¤ºä¹‹å‰ï¼Œæ‚¨å¯èƒ½éœ€è¦å®Œå–„å®ƒ ğŸ’….</p>
<h3 class="relative group"><a id="gradio" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#gradio"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a>
	<span>æ‰“ç£¨ä½ çš„ Gradio æ¼”ç¤º:
	</span></h3>

<div class="flex justify-center"><img class="block dark:hidden" src="https://huggingface.co/datasets/huggingface-course/documentation-images/resolve/main/en/chapter9/gradio-demo-overview.png" alt="Overview of a gradio interface">
<img class="hidden dark:block" src="https://huggingface.co/datasets/huggingface-course/documentation-images/resolve/main/en/chapter9/gradio-demo-overview-dark.png" alt="Overview of a gradio interface"></div>
<p>ä¸ºäº†ç»™ä½ çš„æ¼”ç¤ºæ·»åŠ é¢å¤–çš„å†…å®¹ï¼Œ<code>Interface</code> ç±»æ”¯æŒä¸€äº›å¯é€‰å‚æ•°ï¼š</p>
<ul><li><code>title</code>ï¼šä½ å¯ä»¥ç»™ä½ çš„æ¼”ç¤ºä¸€ä¸ªæ ‡é¢˜ï¼Œå®ƒå‡ºç°åœ¨è¾“å…¥å’Œè¾“å‡ºç»„ä»¶çš„ä¸Šæ–¹ã€‚</li>
<li><code>description</code>ï¼šæ‚¨å¯ä»¥ä¸ºç•Œé¢æä¾›æè¿°ï¼ˆæ–‡æœ¬ã€Markdown æˆ– HTMLï¼‰ï¼Œæ˜¾ç¤ºåœ¨è¾“å…¥å’Œè¾“å‡ºç»„ä»¶çš„ä¸Šæ–¹å’Œæ ‡é¢˜ä¸‹æ–¹ã€‚</li>
<li><code>article</code>ï¼šæ‚¨è¿˜å¯ä»¥ç¼–å†™æ‰©å±•æ–‡ç« ï¼ˆæ–‡æœ¬ã€Markdown æˆ– HTMLï¼‰æ¥è§£é‡Šç•Œé¢ã€‚å¦‚æœæä¾›ï¼Œå®ƒä¼šå‡ºç°åœ¨è¾“å…¥å’Œè¾“å‡ºç»„ä»¶çš„_ä¸‹æ–¹ã€‚</li>
<li><code>theme</code>ï¼šä¸å–œæ¬¢é»˜è®¤é¢œè‰²ï¼Ÿå°†ä¸»é¢˜è®¾ç½®ä¸ºä½¿ç”¨ <code>default</code>ã€<code>huggingface</code>ã€<code>grass</code>ã€<code>peach</code> ä¹‹ä¸€ã€‚æ‚¨è¿˜å¯ä»¥æ·»åŠ  <code>dark-</code> å‰ç¼€ï¼Œä¾‹å¦‚<code>dark-peach</code> ç”¨äºæ·±è‰²ä¸»é¢˜ï¼ˆæˆ–è€…åªæ˜¯ <code>dark</code> ç”¨äºé»˜è®¤çš„æ·±è‰²ä¸»é¢˜ï¼‰ã€‚</li>
<li><code>examples</code>ï¼šä¸ºäº†è®©æ‚¨çš„æ¼”ç¤º<em>æ›´æ˜“äºä½¿ç”¨</em>ï¼Œæ‚¨å¯ä»¥ä¸ºå‡½æ•°æä¾›ä¸€äº›ç¤ºä¾‹è¾“å…¥ã€‚å®ƒä»¬å‡ºç°åœ¨ UI ç»„ä»¶ä¸‹æ–¹ï¼Œå¯ç”¨äºå¡«å……ç•Œé¢ã€‚è¿™äº›åº”è¯¥ä½œä¸ºåµŒå¥—åˆ—è¡¨æä¾›ï¼Œå…¶ä¸­å¤–éƒ¨åˆ—è¡¨â€‹â€‹ç”±æ ·æœ¬ç»„æˆï¼Œæ¯ä¸ªå†…éƒ¨åˆ—è¡¨å¯¹åº”äºæ¯ä¸ªè¾“å…¥ç»„ä»¶çš„è¾“å…¥ç»„æˆã€‚</li>
<li><code>live</code>ï¼šå¦‚æœä½ æƒ³è®©ä½ çš„æ¼”ç¤ºâ€œæ´»â€ï¼Œè¿™æ„å‘³ç€ä½ çš„æ¨¡å‹æ¯æ¬¡è¾“å…¥æ›´æ”¹æ—¶éƒ½ä¼šé‡æ–°è¿è¡Œï¼Œä½ å¯ä»¥è®¾ç½® <code>live=True</code>ã€‚è¿™å¯¹ä½¿ç”¨å¿«é€Ÿæ¨¡å‹å¾ˆæœ‰æ„ä¹‰ï¼ˆæˆ‘ä»¬å°†åœ¨æœ¬èŠ‚æœ«å°¾çœ‹åˆ°ä¸€ä¸ªç¤ºä¾‹ï¼‰
ä½¿ç”¨ä¸Šé¢çš„é€‰é¡¹ï¼Œæˆ‘ä»¬æœ€ç»ˆå¾—åˆ°äº†ä¸€ä¸ªæ›´å®Œæ•´çš„ç•Œé¢ã€‚ è¿è¡Œä¸‹é¢çš„ä»£ç ï¼Œä»¥ä¾¿ä¸ Rick and Morty èŠå¤©ï¼š</li></ul>

	<div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg>
	<div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div>
	Copied</div></button></div>
	<pre><!-- HTML_TAG_START -->title = <span class="hljs-string">&quot;Ask Rick a Question&quot;</span>
description = <span class="hljs-string">&quot;&quot;&quot;
The bot was trained to answer questions based on Rick and Morty dialogues. Ask Rick anything!
&lt;img src=&quot;https://huggingface.co/spaces/course-demos/Rick_and_Morty_QA/resolve/main/rick.png&quot; width=200px&gt;
&quot;&quot;&quot;</span>

article = <span class="hljs-string">&quot;Check out [the original Rick and Morty Bot](https://huggingface.co/spaces/kingabzpro/Rick_and_Morty_Bot) that this demo is based off of.&quot;</span>

gr.Interface(
    fn=predict,
    inputs=<span class="hljs-string">&quot;textbox&quot;</span>,
    outputs=<span class="hljs-string">&quot;text&quot;</span>,
    title=title,
    description=description,
    article=article,
    examples=[[<span class="hljs-string">&quot;What are you doing?&quot;</span>], [<span class="hljs-string">&quot;Where should we time travel to?&quot;</span>]],
).launch()<!-- HTML_TAG_END --></pre></div>
<p>ä½¿ç”¨ä¸Šé¢çš„é€‰é¡¹ï¼Œæˆ‘ä»¬æœ€ç»ˆå¾—åˆ°äº†ä¸€ä¸ªæ›´å®Œæ•´çš„ç•Œé¢ã€‚ è¯•è¯•ä¸‹é¢çš„ç•Œé¢ï¼š</p>
<iframe src="https://hf.space/gradioiframe/course-demos/Rick_and_Morty_QA/+" frameborder="0" height="800" title="Gradio app" class="container p-0 flex-grow space-iframe" allow="accelerometer; ambient-light-sensor; autoplay; battery; camera; document-domain; encrypted-media; fullscreen; geolocation; gyroscope; layout-animations; legacy-image-formats; magnetometer; microphone; midi; oversized-images; payment; picture-in-picture; publickey-credentials-get; sync-xhr; usb; vr ; wake-lock; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-downloads"></iframe>
<h3 id="">ä½¿ç”¨ä¸´æ—¶é“¾æ¥åˆ†äº«æ‚¨çš„æ¼”ç¤º</h3>
ç°åœ¨æˆ‘ä»¬å·²ç»æœ‰äº†æœºå™¨å­¦ä¹ æ¨¡å‹çš„å·¥ä½œæ¼”ç¤ºï¼Œè®©æˆ‘ä»¬å­¦ä¹ å¦‚ä½•è½»æ¾å…±äº«æŒ‡å‘æˆ‘ä»¬ç•Œé¢çš„é“¾æ¥ã€‚
é€šè¿‡åœ¨ `launch()` æ–¹æ³•ä¸­è®¾ç½® `share=True` å¯ä»¥è½»æ¾åœ°å…¬å¼€å…±äº«æ¥å£ï¼š

	<div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg>
	<div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div>
	Copied</div></button></div>
	<pre><!-- HTML_TAG_START -->gr.Interface(classify_image, <span class="hljs-string">&quot;image&quot;</span>, <span class="hljs-string">&quot;label&quot;</span>).launch(share=<span class="hljs-literal">True</span>)<!-- HTML_TAG_END --></pre></div>
<p>è¿™ä¼šç”Ÿæˆä¸€ä¸ªå…¬å¼€çš„ã€å¯å…±äº«çš„é“¾æ¥ï¼Œæ‚¨å¯ä»¥å°†å…¶å‘é€ç»™ä»»ä½•äººï¼ å½“æ‚¨å‘é€æ­¤é“¾æ¥æ—¶ï¼Œå¦ä¸€æ–¹çš„ç”¨æˆ·å¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¯•ç”¨è¯¥æ¨¡å‹é•¿è¾¾ 72 å°æ—¶ã€‚ å› ä¸ºå¤„ç†å‘ç”Ÿåœ¨æ‚¨çš„è®¾å¤‡ä¸Šï¼ˆåªè¦æ‚¨çš„è®¾å¤‡ä¿æŒå¼€å¯ï¼ï¼‰ï¼Œæ‚¨ä¸å¿…æ‹…å¿ƒæ‰“åŒ…ä»»ä½•ä¾èµ–é¡¹ã€‚ å¦‚æœæ‚¨ä½¿ç”¨ Google Colab ç¬”è®°æœ¬å·¥ä½œï¼Œåˆ™å§‹ç»ˆä¼šè‡ªåŠ¨åˆ›å»ºå…±äº«é“¾æ¥ã€‚ å®ƒé€šå¸¸çœ‹èµ·æ¥åƒè¿™æ ·ï¼š<strong>XXXXX.gradio.app</strong>ã€‚ è™½ç„¶é“¾æ¥æ˜¯é€šè¿‡ Gradio é“¾æ¥æä¾›çš„ï¼Œä½†æˆ‘ä»¬åªæ˜¯æ‚¨æœ¬åœ°æœåŠ¡å™¨çš„ä»£ç†ï¼Œä¸ä¼šå­˜å‚¨é€šè¿‡æ¥å£å‘é€çš„ä»»ä½•æ•°æ®ã€‚</p>
<p>ä½†æ˜¯è¯·è®°ä½ï¼Œè¿™äº›é“¾æ¥æ˜¯å¯å…¬å¼€è®¿é—®çš„ï¼Œè¿™æ„å‘³ç€ä»»ä½•äººéƒ½å¯ä»¥ä½¿ç”¨æ‚¨çš„æ¨¡å‹è¿›è¡Œé¢„æµ‹ï¼ å› æ­¤ï¼Œè¯·ç¡®ä¿ä¸è¦é€šè¿‡æ‚¨ç¼–å†™çš„å‡½æ•°å…¬å¼€ä»»ä½•æ•æ„Ÿä¿¡æ¯ï¼Œæˆ–å…è®¸åœ¨æ‚¨çš„è®¾å¤‡ä¸Šå‘ç”Ÿä»»ä½•å…³é”®æ›´æ”¹ã€‚ å¦‚æœè®¾ç½® <code>share=False</code>ï¼ˆé»˜è®¤å€¼ï¼‰ï¼Œåˆ™ä»…åˆ›å»ºæœ¬åœ°é“¾æ¥ã€‚</p>
<h3 class="relative group"><a id="hugging-face-spaces" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#hugging-face-spaces"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a>
	<span>åœ¨ Hugging Face Spaces ä¸Šæ‰˜ç®¡æ‚¨çš„æ¼”ç¤º
	</span></h3>

<p>å¯ä»¥ä¼ é€’ç»™åŒäº‹çš„å…±äº«é“¾æ¥å¾ˆé…·ï¼Œä½†æ˜¯å¦‚ä½•æ°¸ä¹…æ‰˜ç®¡æ‚¨çš„æ¼”ç¤ºå¹¶è®©å®ƒå­˜åœ¨äºäº’è”ç½‘ä¸Šè‡ªå·±çš„â€œç©ºé—´â€ä¸­ï¼Ÿ</p>
<p>Hugging Face Spaces æä¾›äº†åœ¨äº’è”ç½‘ä¸Šæ°¸ä¹…æ‰˜ç®¡ Gradio æ¨¡å‹çš„åŸºç¡€è®¾æ–½ï¼Œ<strong>å…è´¹</strong>ï¼ Spaces å…è®¸æ‚¨åˆ›å»ºå¹¶æ¨é€åˆ°ï¼ˆå…¬å…±æˆ–ç§äººï¼‰å­˜å‚¨åº“ï¼Œ
ä½ çš„ Gradio åœ¨å“ªé‡Œ
æ¥å£ä»£ç å°†å­˜åœ¨äº <code>app.py</code> æ–‡ä»¶ä¸­ã€‚ <a href="https://huggingface.co/blog/gradio-spaces" rel="nofollow">é˜…è¯»åˆ†æ­¥æ•™ç¨‹</a> å¼€å§‹ä½¿ç”¨ï¼Œæˆ–è§‚çœ‹ä¸‹é¢çš„ç¤ºä¾‹è§†é¢‘ã€‚</p>
<iframe class="w-full xl:w-4/6 h-80" src="https://www.youtube-nocookie.com/embed/LS9Y2wDVI0k" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h2 id="">âœï¸ è®©æˆ‘ä»¬åº”ç”¨å®ƒ!</h2>
<p>ä½¿ç”¨åˆ°ç›®å‰ä¸ºæ­¢æˆ‘ä»¬åœ¨å„èŠ‚ä¸­å­¦åˆ°çš„çŸ¥è¯†ï¼Œè®©æˆ‘ä»¬åˆ›å»ºæˆ‘ä»¬åœ¨<a href="/course/chapter9/1">æœ¬ç« ç¬¬ä¸€èŠ‚</a>ä¸­çœ‹åˆ°çš„è‰å›¾è¯†åˆ«æ¼”ç¤ºã€‚ è®©æˆ‘ä»¬ä¸ºæˆ‘ä»¬çš„ç•Œé¢æ·»åŠ ä¸€äº›è‡ªå®šä¹‰å¹¶è®¾ç½® <code>share=True</code> ä»¥åˆ›å»ºä¸€ä¸ªæˆ‘ä»¬å¯ä»¥ä¼ é€’çš„å…¬å…±é“¾æ¥ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ä» <a href="https://huggingface.co/spaces/dawood/Sketch-Recognition/blob/main/class_names.txt" rel="nofollow">class_names.txt</a> åŠ è½½æ ‡ç­¾ï¼Œå¹¶ä» <a href="https://huggingface.co/spaces/dawood/Sketch-Recognition/blob/main/pytorch_model.bin" rel="nofollow">pytorch_model.bin</a>åŠ è½½é¢„è®­ç»ƒçš„ pytorch æ¨¡å‹ ã€‚ é€šè¿‡ç‚¹å‡»é“¾æ¥å¹¶å•å‡»æ–‡ä»¶é¢„è§ˆå·¦ä¸Šè§’çš„ä¸‹è½½æ¥ä¸‹è½½è¿™äº›æ–‡ä»¶ã€‚ è®©æˆ‘ä»¬çœ‹çœ‹ä¸‹é¢çš„ä»£ç ï¼Œçœ‹çœ‹æˆ‘ä»¬å¦‚ä½•ä½¿ç”¨è¿™äº›æ–‡ä»¶æ¥åŠ è½½æˆ‘ä»¬çš„æ¨¡å‹å¹¶åˆ›å»ºä¸€ä¸ª<code>predict()</code>å‡½æ•°ï¼š</p>

	<div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg>
	<div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div>
	Copied</div></button></div>
	<pre><!-- HTML_TAG_START --><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path
<span class="hljs-keyword">import</span> torch
<span class="hljs-keyword">import</span> gradio <span class="hljs-keyword">as</span> gr
<span class="hljs-keyword">from</span> torch <span class="hljs-keyword">import</span> nn

LABELS = Path(<span class="hljs-string">&quot;class_names.txt&quot;</span>).read_text().splitlines()

model = nn.Sequential(
    nn.Conv2d(<span class="hljs-number">1</span>, <span class="hljs-number">32</span>, <span class="hljs-number">3</span>, padding=<span class="hljs-string">&quot;same&quot;</span>),
    nn.ReLU(),
    nn.MaxPool2d(<span class="hljs-number">2</span>),
    nn.Conv2d(<span class="hljs-number">32</span>, <span class="hljs-number">64</span>, <span class="hljs-number">3</span>, padding=<span class="hljs-string">&quot;same&quot;</span>),
    nn.ReLU(),
    nn.MaxPool2d(<span class="hljs-number">2</span>),
    nn.Conv2d(<span class="hljs-number">64</span>, <span class="hljs-number">128</span>, <span class="hljs-number">3</span>, padding=<span class="hljs-string">&quot;same&quot;</span>),
    nn.ReLU(),
    nn.MaxPool2d(<span class="hljs-number">2</span>),
    nn.Flatten(),
    nn.Linear(<span class="hljs-number">1152</span>, <span class="hljs-number">256</span>),
    nn.ReLU(),
    nn.Linear(<span class="hljs-number">256</span>, <span class="hljs-built_in">len</span>(LABELS)),
)
state_dict = torch.load(<span class="hljs-string">&quot;pytorch_model.bin&quot;</span>, map_location=<span class="hljs-string">&quot;cpu&quot;</span>)
model.load_state_dict(state_dict, strict=<span class="hljs-literal">False</span>)
model.<span class="hljs-built_in">eval</span>()


<span class="hljs-keyword">def</span> <span class="hljs-title function_">predict</span>(<span class="hljs-params">im</span>):
    x = torch.tensor(im, dtype=torch.float32).unsqueeze(<span class="hljs-number">0</span>).unsqueeze(<span class="hljs-number">0</span>) / <span class="hljs-number">255.0</span>
    <span class="hljs-keyword">with</span> torch.no_grad():
        out = model(x)
    probabilities = torch.nn.functional.softmax(out[<span class="hljs-number">0</span>], dim=<span class="hljs-number">0</span>)
    values, indices = torch.topk(probabilities, <span class="hljs-number">5</span>)
    <span class="hljs-keyword">return</span> {LABELS[i]: v.item() <span class="hljs-keyword">for</span> i, v <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(indices, values)}<!-- HTML_TAG_END --></pre></div>
<p>ç°åœ¨æˆ‘ä»¬æœ‰äº†ä¸€ä¸ª<code>predict()</code>å‡½æ•°ã€‚ ä¸‹ä¸€æ­¥æ˜¯å®šä¹‰å¹¶å¯åŠ¨æˆ‘ä»¬çš„æ¸å˜ç•Œé¢ï¼š</p>

	<div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg>
	<div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div>
	Copied</div></button></div>
	<pre><!-- HTML_TAG_START -->interface = gr.Interface(
    predict,
    inputs=<span class="hljs-string">&quot;sketchpad&quot;</span>,
    outputs=<span class="hljs-string">&quot;label&quot;</span>,
    theme=<span class="hljs-string">&quot;huggingface&quot;</span>,
    title=<span class="hljs-string">&quot;Sketch Recognition&quot;</span>,
    description=<span class="hljs-string">&quot;Who wants to play Pictionary? Draw a common object like a shovel or a laptop, and the algorithm will guess in real time!&quot;</span>,
    article=<span class="hljs-string">&quot;&lt;p style=&#x27;text-align: center&#x27;&gt;Sketch Recognition | Demo Model&lt;/p&gt;&quot;</span>,
    live=<span class="hljs-literal">True</span>,
)
interface.launch(share=<span class="hljs-literal">True</span>)<!-- HTML_TAG_END --></pre></div>
<iframe src="https://hf.space/gradioiframe/course-demos/Sketch-Recognition/+" frameborder="0" height="650" title="Gradio app" class="container p-0 flex-grow space-iframe" allow="accelerometer; ambient-light-sensor; autoplay; battery; camera; document-domain; encrypted-media; fullscreen; geolocation; gyroscope; layout-animations; legacy-image-formats; magnetometer; microphone; midi; oversized-images; payment; picture-in-picture; publickey-credentials-get; sync-xhr; usb; vr ; wake-lock; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-downloads"></iframe>
<p>æ³¨æ„ <code>Interface</code> ä¸­çš„ <code>live=True</code> å‚æ•°ï¼Œè¿™æ„å‘³ç€è‰å›¾æ¼”ç¤ºä½¿
æ¯æ¬¡æœ‰äººåœ¨ç”»æ¿ä¸Šç”»ç”»æ—¶çš„é¢„æµ‹ï¼ˆæ²¡æœ‰æäº¤æŒ‰é’®ï¼ï¼‰ã€‚</p>
<p>æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜åœ¨ <code>launch()</code> æ–¹æ³•ä¸­è®¾ç½®äº† <code>share=True</code> å‚æ•°ã€‚
è¿™å°†åˆ›å»ºä¸€ä¸ªå…¬å…±é“¾æ¥ï¼Œæ‚¨å¯ä»¥å‘é€ç»™ä»»ä½•äººï¼ å½“æ‚¨å‘é€æ­¤é“¾æ¥æ—¶ï¼Œå¯¹æ–¹çš„ç”¨æˆ·å¯ä»¥å°è¯•è‰å›¾è¯†åˆ«æ¨¡å‹ã€‚ é‡ç”³ä¸€ä¸‹ï¼Œæ‚¨è¿˜å¯ä»¥åœ¨ Hugging Face Spaces ä¸Šæ‰˜ç®¡æ¨¡å‹ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬èƒ½å¤ŸåµŒå…¥ä¸Šé¢çš„æ¼”ç¤ºçš„æ–¹å¼ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä»‹ç» Gradio å¯ç”¨äº Hugging Face ç”Ÿæ€ç³»ç»Ÿçš„å…¶ä»–æ–¹å¼ï¼</p>


		<script type="module" data-hydrate="i0cksg">
		import { start } from "/docs/course/main/zh-CN/_app/start-hf-doc-builder.js";
		start({
			target: document.querySelector('[data-hydrate="i0cksg"]').parentNode,
			paths: {"base":"/docs/course/main/zh-CN","assets":"/docs/course/main/zh-CN"},
			session: {},
			route: false,
			spa: false,
			trailing_slash: "never",
			hydrate: {
				status: 200,
				error: null,
				nodes: [
					import("/docs/course/main/zh-CN/_app/pages/__layout.svelte-hf-doc-builder.js"),
						import("/docs/course/main/zh-CN/_app/pages/chapter9/4.mdx-hf-doc-builder.js")
				],
				params: {}
			}
		});
	</script>
