<meta charset="utf-8" /><meta http-equiv="content-security-policy" content=""><meta name="hf:doc:metadata" content="{&quot;local&quot;:&quot;&quot;,&quot;sections&quot;:[{&quot;local&quot;:&quot;&quot;,&quot;title&quot;:&quot;å¦‚ä½•åˆ›å»ºæ¥å£&quot;},{&quot;local&quot;:&quot;&quot;,&quot;title&quot;:&quot;ä¸€ä¸ªå¸¦éŸ³é¢‘çš„ç®€å•ç¤ºä¾‹&quot;},{&quot;local&quot;:&quot;&quot;,&quot;sections&quot;:[{&quot;local&quot;:&quot;launch&quot;,&quot;title&quot;:&quot;`launch()` æ–¹æ³•&quot;}],&quot;title&quot;:&quot;å¤„ç†å¤šä¸ªè¾“å…¥å’Œè¾“å‡º&quot;},{&quot;local&quot;:&quot;&quot;,&quot;title&quot;:&quot;âœï¸ è®©æˆ‘ä»¬åº”ç”¨å®ƒï¼&quot;}],&quot;title&quot;:&quot;äº†è§£æ¥å£ç±»&quot;}" data-svelte="svelte-1phssyn">
	<link rel="modulepreload" href="/docs/course/main/zh-CN/_app/assets/pages/__layout.svelte-hf-doc-builder.css">
	<link rel="modulepreload" href="/docs/course/main/zh-CN/_app/start-hf-doc-builder.js">
	<link rel="modulepreload" href="/docs/course/main/zh-CN/_app/chunks/vendor-hf-doc-builder.js">
	<link rel="modulepreload" href="/docs/course/main/zh-CN/_app/chunks/paths-hf-doc-builder.js">
	<link rel="modulepreload" href="/docs/course/main/zh-CN/_app/pages/__layout.svelte-hf-doc-builder.js">
	<link rel="modulepreload" href="/docs/course/main/zh-CN/_app/pages/chapter9/3.mdx-hf-doc-builder.js">
	<link rel="modulepreload" href="/docs/course/main/zh-CN/_app/chunks/IconCopyLink-hf-doc-builder.js">
	<link rel="modulepreload" href="/docs/course/main/zh-CN/_app/chunks/CodeBlock-hf-doc-builder.js">
	<link rel="modulepreload" href="/docs/course/main/zh-CN/_app/chunks/DocNotebookDropdown-hf-doc-builder.js"> 





<h1 id="">äº†è§£æ¥å£ç±»</h1>


<div class="flex space-x-1 absolute z-10 right-0 top-0">
	<a href="https://colab.research.google.com/github/huggingface/notebooks/blob/master/course/chapter9/section3.ipynb" target="_blank"><img alt="Open In Colab" class="!m-0" src="https://colab.research.google.com/assets/colab-badge.svg"></a>
	<a href="https://studiolab.sagemaker.aws/import/github/huggingface/notebooks/blob/master/course/chapter9/section3.ipynb" target="_blank"><img alt="Open In Studio Lab" class="!m-0" src="https://studiolab.sagemaker.aws/studiolab.svg"></a></div>
<p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä»”ç»†ç ”ç©¶ <code>Interface</code> ç±»ï¼Œå¹¶äº†è§£ç”¨äºåˆ›å»ºå…¶çš„ä¸»è¦å‚æ•°ã€‚</p>
<h2 id="">å¦‚ä½•åˆ›å»ºæ¥å£</h2>
<p>æ‚¨ä¼šæ³¨æ„åˆ° <code>Interface</code> ç±»æœ‰ 3 ä¸ªå¿…éœ€å‚æ•°ï¼š</p>
<p><code>Interface(fn, inputs, outputs, ...)</code></p>
<p>è¿™äº›å‚æ•°æ˜¯ï¼š</p>
<ul><li><code>fn</code>: ç”± Gradio æ¥å£åŒ…è£…çš„é¢„æµ‹å‡½æ•°ã€‚ è¯¥å‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°å¹¶è¿”å›ä¸€ä¸ªæˆ–å¤šä¸ªå€¼</li>
<li><code>inputs</code>: è¾“å…¥ç»„ä»¶ç±»å‹ã€‚ Gradio æä¾›äº†è®¸å¤šé¢„æ„å»ºçš„ç»„ä»¶ï¼Œä¾‹å¦‚<code>&quot;image&quot;</code> æˆ–<code>&quot;mic&quot;</code>ã€‚</li>
<li><code>outputs</code>: è¾“å‡ºç»„ä»¶ç±»å‹ã€‚ åŒæ ·ï¼ŒGradio æä¾›äº†è®¸å¤šé¢„æ„å»ºçš„ç»„ä»¶ï¼Œä¾‹å¦‚ <code>â€œå›¾åƒâ€</code>æˆ–â€œæ ‡ç­¾â€`ã€‚</li></ul>
<p>æœ‰å…³ç»„ä»¶çš„å®Œæ•´åˆ—è¡¨ï¼Œ<a href="https://gradio.app/docs" rel="nofollow">è¯·å‚é˜… Gradio æ–‡æ¡£</a>ã€‚ æ¯ä¸ªé¢„æ„å»ºçš„ç»„ä»¶éƒ½å¯ä»¥é€šè¿‡å®ä¾‹åŒ–è¯¥ç»„ä»¶å¯¹åº”çš„ç±»æ¥å®šåˆ¶ã€‚</p>
<p>ä¾‹å¦‚ï¼Œæ­£å¦‚æˆ‘ä»¬åœ¨ <a href="/course/chapter9/2">ä¸Šä¸€èŠ‚</a> ä¸­çœ‹åˆ°çš„ï¼Œæ‚¨å¯ä»¥ä¼ å…¥ä¸€ä¸ª <code>Textbox(lines=7, label=&quot;Prompt&quot;)</code> ç»„ä»¶æ¥åˆ›å»ºä¸€ä¸ªåŒ…å« 7 è¡Œå’Œä¸€ä¸ªæ ‡ç­¾çš„æ–‡æœ¬æ¡†ï¼Œè€Œä¸æ˜¯å°† <code>&quot;textbox&quot;</code> ä¼ é€’ç»™ <code>inputs</code> å‚æ•°ã€‚
è®©æˆ‘ä»¬çœ‹å¦ä¸€ä¸ªä¾‹å­ï¼Œè¿™æ¬¡æ˜¯ä¸€ä¸ª <code>Audio</code> ç»„ä»¶ã€‚</p>
<h2 id="">ä¸€ä¸ªå¸¦éŸ³é¢‘çš„ç®€å•ç¤ºä¾‹</h2>
<p>å¦‚å‰æ‰€è¿°ï¼ŒGradio æä¾›äº†è®¸å¤šä¸åŒçš„è¾“å…¥å’Œè¾“å‡ºã€‚
å› æ­¤ï¼Œè®©æˆ‘ä»¬æ„å»ºä¸€ä¸ªé€‚ç”¨äºéŸ³é¢‘çš„â€œæ¥å£â€ã€‚</p>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†æ„å»ºä¸€ä¸ªéŸ³é¢‘åˆ°éŸ³é¢‘çš„å‡½æ•°ï¼Œå®ƒéœ€è¦ä¸€ä¸ªéŸ³é¢‘æ–‡ä»¶å¹¶ç®€å•åœ°åè½¬å®ƒã€‚</p>
<p>æˆ‘ä»¬å°†ä½¿ç”¨ <code>Audio</code> ç»„ä»¶ä½œä¸ºè¾“å…¥ã€‚ ä½¿ç”¨ <code>Audio</code> ç»„ä»¶æ—¶ï¼Œæ‚¨å¯ä»¥æŒ‡å®šå¸Œæœ›éŸ³é¢‘çš„ <code>source</code> æ˜¯ç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶è¿˜æ˜¯ç”¨æˆ·å½•åˆ¶å£°éŸ³çš„éº¦å…‹é£ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè®©æˆ‘ä»¬å°†å…¶è®¾ç½®ä¸ºâ€œéº¦å…‹é£â€ã€‚ åªæ˜¯ä¸ºäº†å¥½ç©ï¼Œæˆ‘ä»¬ä¼šåœ¨æˆ‘ä»¬çš„â€œéŸ³é¢‘â€ä¸­æ·»åŠ ä¸€ä¸ªæ ‡ç­¾ï¼Œä¸Šé¢å†™ç€â€œåœ¨è¿™é‡Œè¯´è¯â€¦â€¦â€ã€‚</p>
<p>æ­¤å¤–ï¼Œæˆ‘ä»¬å¸Œæœ›å°†éŸ³é¢‘ä½œä¸º numpy æ•°ç»„æ¥æ”¶ï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥è½»æ¾åœ°â€œåè½¬â€å®ƒã€‚ æ‰€ä»¥æˆ‘ä»¬å°† <code>&quot;type&quot;</code> è®¾ç½®ä¸º <code>&quot;numpy&quot;</code>ï¼Œå®ƒä¼šä¼ é€’è¾“å…¥data ä½œä¸º (<code>sample_rate</code>, <code>data</code>) çš„å…ƒç»„è¿›å…¥æˆ‘ä»¬çš„å‡½æ•°ã€‚</p>
<p>æˆ‘ä»¬è¿˜å°†ä½¿ç”¨ <code>Audio</code> è¾“å‡ºç»„ä»¶ï¼Œå®ƒå¯ä»¥è‡ªåŠ¨å°†å…·æœ‰é‡‡æ ·ç‡å’Œ numpy æ•°æ®æ•°ç»„çš„å…ƒç»„æ¸²æŸ“ä¸ºå¯æ’­æ”¾çš„éŸ³é¢‘æ–‡ä»¶ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸éœ€è¦è¿›è¡Œä»»ä½•è‡ªå®šä¹‰ï¼Œå› æ­¤æˆ‘ä»¬å°†ä½¿ç”¨å­—ç¬¦ä¸²å¿«æ·æ–¹å¼â€œaudioâ€ã€‚</p>

	<div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg>
	<div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div>
	Copied</div></button></div>
	<pre><!-- HTML_TAG_START --><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">import</span> gradio <span class="hljs-keyword">as</span> gr


<span class="hljs-keyword">def</span> <span class="hljs-title function_">reverse_audio</span>(<span class="hljs-params">audio</span>):
    sr, data = audio
    reversed_audio = (sr, np.flipud(data))
    <span class="hljs-keyword">return</span> reversed_audio


mic = gr.Audio(source=<span class="hljs-string">&quot;microphone&quot;</span>, <span class="hljs-built_in">type</span>=<span class="hljs-string">&quot;numpy&quot;</span>, label=<span class="hljs-string">&quot;Speak here...&quot;</span>)
gr.Interface(reverse_audio, mic, <span class="hljs-string">&quot;audio&quot;</span>).launch()<!-- HTML_TAG_END --></pre></div>
<p>ä¸Šé¢çš„ä»£ç ä¼šäº§ç”Ÿä¸€ä¸ªç±»ä¼¼ä¸‹é¢çš„ç•Œé¢ï¼ˆå¦‚æœä½ çš„æµè§ˆå™¨æ²¡æœ‰
è¯¢é—®æ‚¨çš„éº¦å…‹é£æƒé™ï¼Œ <a href="https://huggingface.co/spaces/course-demos/audio-reverse" target="_blank">open the demo in  a separate tab</a>.)</p>
<iframe src="https://hf.space/gradioiframe/course-demos/audio-reverse/+" frameborder="0" height="250" title="Gradio app" class="container p-0 flex-grow space-iframe" allow="accelerometer; ambient-light-sensor; autoplay; battery; camera; document-domain; encrypted-media; fullscreen; geolocation; gyroscope; layout-animations; legacy-image-formats; magnetometer; microphone; midi; oversized-images; payment; picture-in-picture; publickey-credentials-get; sync-xhr; usb; vr ; wake-lock; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-downloads"></iframe>
<p>æ‚¨ç°åœ¨åº”è¯¥èƒ½å¤Ÿå½•åˆ¶è‡ªå·±çš„å£°éŸ³å¹¶å¬åˆ°è‡ªå·±åœ¨åå‘è¯´è¯ - æ€ªå¼‚ ğŸ‘»!</p>
<h2 id="">å¤„ç†å¤šä¸ªè¾“å…¥å’Œè¾“å‡º</h2>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªæ›´å¤æ‚çš„å‡½æ•°ï¼Œæœ‰å¤šä¸ªè¾“å…¥å’Œè¾“å‡ºã€‚åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªæ¥å—ä¸‹æ‹‰ç´¢å¼•ã€æ»‘å—å€¼å’Œæ•°å­—çš„å‡½æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªéŸ³è°ƒçš„éŸ³é¢‘æ ·æœ¬ã€‚</p>
<p>çœ‹çœ‹æˆ‘ä»¬å¦‚ä½•ä¼ é€’è¾“å…¥å’Œè¾“å‡ºç»„ä»¶åˆ—è¡¨ï¼Œçœ‹çœ‹ä½ èƒ½ä¸èƒ½è·Ÿä¸Šæ­£åœ¨å‘ç”Ÿçš„äº‹æƒ…ã€‚</p>
<p>è¿™é‡Œçš„å…³é”®æ˜¯å½“ä½ é€šè¿‡æ—¶ï¼š</p>
<ul><li>è¾“å…¥ç»„ä»¶åˆ—è¡¨ï¼Œæ¯ä¸ªç»„ä»¶ä¾æ¬¡å¯¹åº”ä¸€ä¸ªå‚æ•°ã€‚</li>
<li>è¾“å‡ºç»„ä»¶åˆ—è¡¨ï¼Œæ¯ä¸ªç»„ä»¶å¯¹åº”ä¸€ä¸ªè¿”å›å€¼ã€‚</li></ul>
<p>ä¸‹é¢çš„ä»£ç ç‰‡æ®µæ˜¾ç¤ºäº†ä¸‰ä¸ªè¾“å…¥ç»„ä»¶å¦‚ä½•ä¸ <code>generate_tone()</code> å‡½æ•°çš„ä¸‰ä¸ªå‚æ•°å¯¹é½ï¼š</p>

	<div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg>
	<div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div>
	Copied</div></button></div>
	<pre><!-- HTML_TAG_START --><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">import</span> gradio <span class="hljs-keyword">as</span> gr

notes = [<span class="hljs-string">&quot;C&quot;</span>, <span class="hljs-string">&quot;C#&quot;</span>, <span class="hljs-string">&quot;D&quot;</span>, <span class="hljs-string">&quot;D#&quot;</span>, <span class="hljs-string">&quot;E&quot;</span>, <span class="hljs-string">&quot;F&quot;</span>, <span class="hljs-string">&quot;F#&quot;</span>, <span class="hljs-string">&quot;G&quot;</span>, <span class="hljs-string">&quot;G#&quot;</span>, <span class="hljs-string">&quot;A&quot;</span>, <span class="hljs-string">&quot;A#&quot;</span>, <span class="hljs-string">&quot;B&quot;</span>]


<span class="hljs-keyword">def</span> <span class="hljs-title function_">generate_tone</span>(<span class="hljs-params">note, octave, duration</span>):
    sr = <span class="hljs-number">48000</span>
    a4_freq, tones_from_a4 = <span class="hljs-number">440</span>, <span class="hljs-number">12</span> * (octave - <span class="hljs-number">4</span>) + (note - <span class="hljs-number">9</span>)
    frequency = a4_freq * <span class="hljs-number">2</span> ** (tones_from_a4 / <span class="hljs-number">12</span>)
    duration = <span class="hljs-built_in">int</span>(duration)
    audio = np.linspace(<span class="hljs-number">0</span>, duration, duration * sr)
    audio = (<span class="hljs-number">20000</span> * np.sin(audio * (<span class="hljs-number">2</span> * np.pi * frequency))).astype(np.int16)
    <span class="hljs-keyword">return</span> (sr, audio)


gr.Interface(
    generate_tone,
    [
        gr.Dropdown(notes, <span class="hljs-built_in">type</span>=<span class="hljs-string">&quot;index&quot;</span>),
        gr.Slider(minimum=<span class="hljs-number">4</span>, maximum=<span class="hljs-number">6</span>, step=<span class="hljs-number">1</span>),
        gr.Textbox(<span class="hljs-built_in">type</span>=<span class="hljs-string">&quot;number&quot;</span>, value=<span class="hljs-number">1</span>, label=<span class="hljs-string">&quot;Duration in seconds&quot;</span>),
    ],
    <span class="hljs-string">&quot;audio&quot;</span>,
).launch()<!-- HTML_TAG_END --></pre></div>
<iframe src="https://hf.space/gradioiframe/course-demos/generate-tone/+" frameborder="0" height="450" title="Gradio app" class="container p-0 flex-grow space-iframe" allow="accelerometer; ambient-light-sensor; autoplay; battery; camera; document-domain; encrypted-media; fullscreen; geolocation; gyroscope; layout-animations; legacy-image-formats; magnetometer; microphone; midi; oversized-images; payment; picture-in-picture; publickey-credentials-get; sync-xhr; usb; vr ; wake-lock; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-downloads"></iframe>
<h3 class="relative group"><a id="launch" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#launch"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a>
	<span><code>launch()</code> æ–¹æ³•
	</span></h3>

<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»ä½¿ç”¨äº†<code>launch()</code>æ–¹æ³•æ¥å¯åŠ¨ç•Œé¢ï¼Œä½†æ˜¯æˆ‘ä»¬
è¿˜æ²¡æœ‰çœŸæ­£è®¨è®ºè¿‡å®ƒçš„ä½œç”¨ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>launch()</code> æ–¹æ³•å°†åœ¨ Web æœåŠ¡å™¨ä¸­å¯åŠ¨æ¼”ç¤ºæ­£åœ¨æœ¬åœ°è¿è¡Œã€‚ å¦‚æœæ‚¨åœ¨ Jupyter æˆ– Colab ç¬”è®°æœ¬ä¸­è¿è¡Œä»£ç ï¼Œé‚£ä¹ˆGradio ä¼šå°†æ¼”ç¤º GUI åµŒå…¥åˆ°ç¬”è®°æœ¬ä¸­ï¼Œä»¥ä¾¿æ‚¨è½»æ¾ä½¿ç”¨å®ƒã€‚</p>
<p>æ‚¨å¯ä»¥é€šè¿‡ä¸åŒçš„å‚æ•°è‡ªå®šä¹‰ <code>launch()</code> çš„è¡Œä¸ºï¼š</p>
<ul><li><code>inline</code> - whether to display the interface inline on Python notebooks.</li>
<li><code>inbrowser</code> - whether to automatically launch the interface in a new tab on the default browser.</li>
<li><code>share</code> - whether to create a publicly shareable link from your computer for the interface. Kind of like a Google Drive link!</li></ul>
<p>æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€èŠ‚ä¸­æ›´è¯¦ç»†åœ°ä»‹ç» <code>share</code> å‚æ•°ï¼</p>
<h2 id="">âœï¸ è®©æˆ‘ä»¬åº”ç”¨å®ƒï¼</h2>
<p>è®©æˆ‘ä»¬æ„å»ºä¸€ä¸ªç•Œé¢ï¼Œè®©æ‚¨æ¼”ç¤º <strong>speech-recognition</strong> æ¨¡å‹ã€‚
ä¸ºäº†è®©å®ƒå˜å¾—æœ‰è¶£ï¼Œæˆ‘ä»¬å°†æ¥å— <em>or</em> éº¦å…‹é£è¾“å…¥æˆ–ä¸Šä¼ çš„æ–‡ä»¶ã€‚</p>
<p>åƒå¾€å¸¸ä¸€æ ·ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ ğŸ¤— Transformers ä¸­çš„ <code>pipeline()</code> å‡½æ•°åŠ è½½æˆ‘ä»¬çš„è¯­éŸ³è¯†åˆ«æ¨¡å‹ã€‚å¦‚æœæ‚¨éœ€è¦å¿«é€Ÿå¤ä¹ ï¼Œæ‚¨å¯ä»¥è¿”å› <a href="/course/chapter1/3">ç¬¬ 1 ç« ä¸­çš„é‚£ä¸ªéƒ¨åˆ†</a>ã€‚ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†å®ç°ä¸€ä¸ª <code>transcribe_audio()</code> å‡½æ•°æ¥å¤„ç†éŸ³é¢‘å¹¶è¿”å›è½¬å½•ã€‚ æœ€åï¼Œæˆ‘ä»¬å°†æŠŠè¿™ä¸ªå‡½æ•°åŒ…è£…åœ¨ä¸€ä¸ª <code>Interface</code> ä¸­ï¼Œå…¶ä¸­ <code>Audio</code> ç»„ä»¶ç”¨äºè¾“å…¥ï¼Œåªæœ‰æ–‡æœ¬ç”¨äºè¾“å‡ºã€‚ æ€»è€Œè¨€ä¹‹ï¼Œæ­¤åº”ç”¨ç¨‹åºçš„ä»£ç å¦‚ä¸‹ï¼š</p>

	<div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg>
	<div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div>
	Copied</div></button></div>
	<pre><!-- HTML_TAG_START --><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> pipeline
<span class="hljs-keyword">import</span> gradio <span class="hljs-keyword">as</span> gr

model = pipeline(<span class="hljs-string">&quot;automatic-speech-recognition&quot;</span>)


<span class="hljs-keyword">def</span> <span class="hljs-title function_">transcribe_audio</span>(<span class="hljs-params">mic=<span class="hljs-literal">None</span>, file=<span class="hljs-literal">None</span></span>):
    <span class="hljs-keyword">if</span> mic <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:
        audio = mic
    <span class="hljs-keyword">elif</span> file <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:
        audio = file
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;You must either provide a mic recording or a file&quot;</span>
    transcription = model(audio)[<span class="hljs-string">&quot;text&quot;</span>]
    <span class="hljs-keyword">return</span> transcription


gr.Interface(
    fn=transcribe_audio,
    inputs=[
        gr.Audio(source=<span class="hljs-string">&quot;microphone&quot;</span>, <span class="hljs-built_in">type</span>=<span class="hljs-string">&quot;filepath&quot;</span>, optional=<span class="hljs-literal">True</span>),
        gr.Audio(source=<span class="hljs-string">&quot;upload&quot;</span>, <span class="hljs-built_in">type</span>=<span class="hljs-string">&quot;filepath&quot;</span>, optional=<span class="hljs-literal">True</span>),
    ],
    outputs=<span class="hljs-string">&quot;text&quot;</span>,
).launch()<!-- HTML_TAG_END --></pre></div>
<p>å¦‚æœæ‚¨çš„æµè§ˆå™¨æ²¡æœ‰è¦æ±‚æ‚¨æä¾›éº¦å…‹é£æƒé™ï¼Œ<a href="https://huggingface.co/spaces/course-demos/audio-reverse" target="_blank">open the demo in a separate tab</a>.</p>
<iframe src="https://hf.space/gradioiframe/course-demos/asr/+" frameborder="0" height="550" title="Gradio app" class="container p-0 flex-grow space-iframe" allow="accelerometer; ambient-light-sensor; autoplay; battery; camera; document-domain; encrypted-media; fullscreen; geolocation; gyroscope; layout-animations; legacy-image-formats; magnetometer; microphone; midi; oversized-images; payment; picture-in-picture; publickey-credentials-get; sync-xhr; usb; vr ; wake-lock; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-downloads"></iframe>
<p>å°±æ˜¯è¿™æ ·ï¼ æ‚¨ç°åœ¨å¯ä»¥ä½¿ç”¨æ­¤ç•Œé¢æ¥è½¬å½•éŸ³é¢‘ã€‚ æ³¨æ„è¿™é‡Œ
é€šè¿‡å°† <code>optional</code> å‚æ•°ä½œä¸º <code>True</code> ä¼ é€’ï¼Œæˆ‘ä»¬å…è®¸ç”¨æˆ·
æä¾›éº¦å…‹é£æˆ–éŸ³é¢‘æ–‡ä»¶ï¼ˆæˆ–ä¸¤è€…éƒ½ä¸æä¾›ï¼Œä½†è¿™ä¼šè¿”å›é”™è¯¯æ¶ˆæ¯ï¼‰ã€‚</p>
<p>ç»§ç»­çœ‹çœ‹å¦‚ä½•ä¸ä»–äººåˆ†äº«æ‚¨çš„ç•Œé¢ï¼</p>


		<script type="module" data-hydrate="vfqj3g">
		import { start } from "/docs/course/main/zh-CN/_app/start-hf-doc-builder.js";
		start({
			target: document.querySelector('[data-hydrate="vfqj3g"]').parentNode,
			paths: {"base":"/docs/course/main/zh-CN","assets":"/docs/course/main/zh-CN"},
			session: {},
			route: false,
			spa: false,
			trailing_slash: "never",
			hydrate: {
				status: 200,
				error: null,
				nodes: [
					import("/docs/course/main/zh-CN/_app/pages/__layout.svelte-hf-doc-builder.js"),
						import("/docs/course/main/zh-CN/_app/pages/chapter9/3.mdx-hf-doc-builder.js")
				],
				params: {}
			}
		});
	</script>
