<meta charset="utf-8" /><meta http-equiv="content-security-policy" content=""><meta name="hf:doc:metadata" content="{&quot;local&quot;:&quot;partager-ses-dmos-avec-les-autres&quot;,&quot;sections&quot;:[{&quot;local&quot;:null,&quot;sections&quot;:[{&quot;local&quot;:&quot;polir-votre-dmo-igradioi&quot;,&quot;title&quot;:&quot;Polir votre d√©mo &lt;i&gt;Gradio&lt;/i&gt;&quot;},{&quot;local&quot;:&quot;partager-votre-dmo-avec-des-liens-temporaires&quot;,&quot;title&quot;:&quot;Partager votre d√©mo avec des liens temporaires&quot;},{&quot;local&quot;:&quot;hbergement-de-votre-dmo-sur-ihugging-face-spacesi&quot;,&quot;title&quot;:&quot;H√©bergement de votre d√©mo sur &lt;i&gt;Hugging Face Spaces&lt;/i&gt;&quot;}],&quot;title&quot;:null},{&quot;local&quot;:&quot;appliquons-a&quot;,&quot;title&quot;:&quot;‚úèÔ∏è Appliquons √ßa !&quot;}],&quot;title&quot;:&quot;Partager ses d√©mos avec les autres&quot;}" data-svelte="svelte-1phssyn">
	<link rel="modulepreload" href="/docs/course/main/fr/_app/assets/pages/__layout.svelte-hf-doc-builder.css">
	<link rel="modulepreload" href="/docs/course/main/fr/_app/start-hf-doc-builder.js">
	<link rel="modulepreload" href="/docs/course/main/fr/_app/chunks/vendor-hf-doc-builder.js">
	<link rel="modulepreload" href="/docs/course/main/fr/_app/chunks/paths-hf-doc-builder.js">
	<link rel="modulepreload" href="/docs/course/main/fr/_app/pages/__layout.svelte-hf-doc-builder.js">
	<link rel="modulepreload" href="/docs/course/main/fr/_app/pages/chapter9/4.mdx-hf-doc-builder.js">
	<link rel="modulepreload" href="/docs/course/main/fr/_app/chunks/Youtube-hf-doc-builder.js">
	<link rel="modulepreload" href="/docs/course/main/fr/_app/chunks/IconCopyLink-hf-doc-builder.js">
	<link rel="modulepreload" href="/docs/course/main/fr/_app/chunks/CodeBlock-hf-doc-builder.js">
	<link rel="modulepreload" href="/docs/course/main/fr/_app/chunks/CourseFloatingBanner-hf-doc-builder.js"> 





<h1 class="relative group"><a id="partager-ses-dmos-avec-les-autres" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#partager-ses-dmos-avec-les-autres"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a>
	<span>Partager ses d√©mos avec les autres
	</span></h1>



<div class="flex space-x-1 absolute z-10 right-0 top-0"><a href="https://discuss.huggingface.co/t/chapter-9-questions" target="_blank"><img alt="Ask a Question" class="!m-0" src="https://img.shields.io/badge/Ask%20a%20question-ffcb4c.svg?logo=data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgLTEgMTA0IDEwNiI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiMyMzFmMjA7fS5jbHMtMntmaWxsOiNmZmY5YWU7fS5jbHMtM3tmaWxsOiMwMGFlZWY7fS5jbHMtNHtmaWxsOiMwMGE5NGY7fS5jbHMtNXtmaWxsOiNmMTVkMjI7fS5jbHMtNntmaWxsOiNlMzFiMjM7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5EaXNjb3Vyc2VfbG9nbzwvdGl0bGU+PGcgaWQ9IkxheWVyXzIiPjxnIGlkPSJMYXllcl8zIj48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik01MS44NywwQzIzLjcxLDAsMCwyMi44MywwLDUxYzAsLjkxLDAsNTIuODEsMCw1Mi44MWw1MS44Ni0uMDVjMjguMTYsMCw1MS0yMy43MSw1MS01MS44N1M4MCwwLDUxLjg3LDBaIi8+PHBhdGggY2xhc3M9ImNscy0yIiBkPSJNNTIuMzcsMTkuNzRBMzEuNjIsMzEuNjIsMCwwLDAsMjQuNTgsNjYuNDFsLTUuNzIsMTguNEwzOS40LDgwLjE3YTMxLjYxLDMxLjYxLDAsMSwwLDEzLTYwLjQzWiIvPjxwYXRoIGNsYXNzPSJjbHMtMyIgZD0iTTc3LjQ1LDMyLjEyYTMxLjYsMzEuNiwwLDAsMS0zOC4wNSw0OEwxOC44Niw4NC44MmwyMC45MS0yLjQ3QTMxLjYsMzEuNiwwLDAsMCw3Ny40NSwzMi4xMloiLz48cGF0aCBjbGFzcz0iY2xzLTQiIGQ9Ik03MS42MywyNi4yOUEzMS42LDMxLjYsMCwwLDEsMzguOCw3OEwxOC44Niw4NC44MiwzOS40LDgwLjE3QTMxLjYsMzEuNiwwLDAsMCw3MS42MywyNi4yOVoiLz48cGF0aCBjbGFzcz0iY2xzLTUiIGQ9Ik0yNi40Nyw2Ny4xMWEzMS42MSwzMS42MSwwLDAsMSw1MS0zNUEzMS42MSwzMS42MSwwLDAsMCwyNC41OCw2Ni40MWwtNS43MiwxOC40WiIvPjxwYXRoIGNsYXNzPSJjbHMtNiIgZD0iTTI0LjU4LDY2LjQxQTMxLjYxLDMxLjYxLDAsMCwxLDcxLjYzLDI2LjI5YTMxLjYxLDMxLjYxLDAsMCwwLTQ5LDM5LjYzbC0zLjc2LDE4LjlaIi8+PC9nPjwvZz48L3N2Zz4="></a>
	<a href="https://colab.research.google.com/github/huggingface/notebooks/blob/master/course/fr/chapter9/section4.ipynb" target="_blank"><img alt="Open In Colab" class="!m-0" src="https://colab.research.google.com/assets/colab-badge.svg"></a>
	<a href="https://studiolab.sagemaker.aws/import/github/huggingface/notebooks/blob/master/course/fr/chapter9/section4.ipynb" target="_blank"><img alt="Open In Studio Lab" class="!m-0" src="https://studiolab.sagemaker.aws/studiolab.svg"></a></div>
<p>Maintenant que vous avez construit une d√©mo, vous voudrez probablement la partager √† d‚Äôautres personnes. Les d√©mos <em>Gradio</em> peuvent √™tre partag√©es de deux fa√ßons : en utilisant un lien de partage temporaire (<strong><em>temporary share link</em></strong>) ou un h√©bergement permanent (<strong><em>permanent hosting on Spaces</em></strong>).</p>
<p>Nous aborderons ces deux approches sous peu. Mais avant de partager votre d√©mo, vous voudrez peut-√™tre la peaufiner üíÖ.</p>
<h3 class="relative group"><a id="polir-votre-dmo-igradioi" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#polir-votre-dmo-igradioi"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a>
	<span>Polir votre d√©mo <i>Gradio</i></span></h3>

<div class="flex justify-center"><img class="block dark:hidden" src="https://huggingface.co/datasets/huggingface-course/documentation-images/resolve/main/en/chapter9/gradio-demo-overview.png" alt="Overview of a gradio interface">
<img class="hidden dark:block" src="https://huggingface.co/datasets/huggingface-course/documentation-images/resolve/main/en/chapter9/gradio-demo-overview-dark.png" alt="Overview of a gradio interface"></div>
<p>Pour ajouter du contenu suppl√©mentaire √† votre d√©mo, la classe <code>Interface</code> supporte quelques param√®tres optionnels :</p>
<ul><li><code>title</code> : vous pouvez donner un titre √† votre d√©mo, qui appara√Æt <em>au-dessus</em> des composants d‚Äôentr√©e et de sortie.</li>
<li><code>description</code> : vous pouvez donner une description (en texte, Markdown, ou HTML) pour l‚Äôinterface, qui appara√Æt au-dessus des composants d‚Äôentr√©e et de sortie et en dessous du titre.</li>
<li><code>article</code> : vous pouvez √©galement √©crire un article √©tendu (en texte, Markdown ou HTML) expliquant l‚Äôinterface. S‚Äôil est fourni, il appara√Æt <em>sous</em> les composants d‚Äôentr√©e et de sortie.</li>
<li><code>theme</code> : vous n‚Äôaimez pas les couleurs par d√©faut ? D√©finissez le th√®me pour utiliser une des couleurs suivantes : <code>default</code>, <code>huggingface</code>, <code>grass</code>, <code>peach</code>. Vous pouvez √©galement ajouter le pr√©fixe <code>dark-</code>, par exemple <code>dark-peach</code> pour un th√®me sombre (ou juste <code>dark</code> pour le th√®me sombre par d√©faut).</li>
<li><code>examples</code> : pour rendre votre d√©mo <em>beaucoup plus facile √† utiliser</em>, vous pouvez fournir quelques exemples d‚Äôentr√©es pour la fonction. Ceux-ci apparaissent sous les composants de l‚Äôinterface utilisateur et peuvent √™tre utilis√©s pour remplir l‚Äôinterface. Ils doivent √™tre fournis sous forme de liste imbriqu√©e, dans laquelle la liste ext√©rieure est constitu√©e d‚Äôexemples et chaque liste int√©rieure est constitu√©e d‚Äôune entr√©e correspondant √† chaque composant d‚Äôentr√©e.</li>
<li><code>live</code> : si vous voulez que votre mod√®le soit relanc√© √† chaque fois que l‚Äôentr√©e change, vous pouvez mettre <code>live=True</code>. Ceci est utile pour les mod√®les rapides (nous verrons un exemple √† la fin de cette section).
En utilisant les options ci-dessus, nous obtenons une interface plus compl√®te. Ex√©cutez le code ci-dessous pour pouvoir discuter avec Rick et Morty :</li></ul>

	<div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg>
	<div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div>
	Copied</div></button></div>
	<pre><!-- HTML_TAG_START -->title = <span class="hljs-string">&quot;Ask Rick a Question&quot;</span>  <span class="hljs-comment"># &quot;Posez une question √† Rick&quot;</span>
description = <span class="hljs-string">&quot;&quot;&quot;
The bot was trained to answer questions based on Rick and Morty dialogues. Ask Rick anything!
# Le robot a √©t√© entra√Æn√© √† r√©pondre √† des questions bas√©es sur les dialogues de Rick et Morty.
# Demandez √† Rick ce que vous voulez !
&lt;img src=&quot;https://huggingface.co/spaces/course-demos/Rick_and_Morty_QA/resolve/main/rick.png&quot; width=200px&gt;
&quot;&quot;&quot;</span>

article = <span class="hljs-string">&quot;Check out [the original Rick and Morty Bot](https://huggingface.co/spaces/kingabzpro/Rick_and_Morty_Bot) that this demo is based off of.&quot;</span>
<span class="hljs-comment"># Jetez un coup d&#x27;≈ìil au [bot original Rick et Morty](https://huggingface.co/spaces/kingabzpro/Rick_and_Morty_Bot) sur lequel cette d√©mo est bas√©e.</span>

gr.Interface(
    fn=predict,
    inputs=<span class="hljs-string">&quot;textbox&quot;</span>,
    outputs=<span class="hljs-string">&quot;text&quot;</span>,
    title=title,
    description=description,
    article=article,
    examples=[[<span class="hljs-string">&quot;What are you doing?&quot;</span>], [<span class="hljs-string">&quot;Where should we time travel to?&quot;</span>]]
    <span class="hljs-comment"># [&quot;Que faites-vous ?&quot;], [&quot;O√π devrions-nous voyager dans le temps ?&quot;]</span>
).launch()<!-- HTML_TAG_END --></pre></div>
<p>En utilisant les options ci-dessus, nous obtenons une interface plus compl√®te. Essayez l‚Äôinterface ci-dessous :</p>
<iframe src="https://hf.space/gradioiframe/course-demos/Rick_and_Morty_QA/+" frameborder="0" height="800" title="Gradio app" class="container p-0 flex-grow space-iframe" allow="accelerometer; ambient-light-sensor; autoplay; battery; camera; document-domain; encrypted-media; fullscreen; geolocation; gyroscope; layout-animations; legacy-image-formats; magnetometer; microphone; midi; oversized-images; payment; picture-in-picture; publickey-credentials-get; sync-xhr; usb; vr ; wake-lock; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-downloads"></iframe>
<h3 class="relative group"><a id="partager-votre-dmo-avec-des-liens-temporaires" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#partager-votre-dmo-avec-des-liens-temporaires"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a>
	<span>Partager votre d√©mo avec des liens temporaires
	</span></h3>

Maintenant que nous avons une d√©mo fonctionnelle de notre mod√®le d&#39;apprentissage automatique, apprenons √† partager facilement un lien vers notre interface.
Les interfaces peuvent √™tre facilement partag√©es publiquement en mettant `share=True` dans la m√©thode `launch()` :

	<div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg>
	<div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div>
	Copied</div></button></div>
	<pre><!-- HTML_TAG_START -->gr.Interface(classify_image, <span class="hljs-string">&quot;image&quot;</span>, <span class="hljs-string">&quot;label&quot;</span>).launch(share=<span class="hljs-literal">True</span>)<!-- HTML_TAG_END --></pre></div>
<p>Cela g√©n√®re un lien public et partageable que vous pouvez envoyer √† n‚Äôimporte qui ! Lorsque vous envoyez ce lien, l‚Äôutilisateur de l‚Äôautre c√¥t√© peut essayer le mod√®le dans son navigateur pendant 72 heures au maximum. Le traitement s‚Äôeffectuant sur votre appareil (tant qu‚Äôil reste allum√© !), vous n‚Äôavez pas √† vous soucier de la mise en place de d√©pendances. Si vous travaillez √† partir d‚Äôun <em>notebook</em> Google Colab, un lien de partage est toujours cr√©√© automatiquement. Il ressemble g√©n√©ralement √† quelque chose comme ceci : <strong>XXXXX.gradio.app</strong>. Bien que le lien soit servi par un lien <em>Gradio</em>, nous ne sommes qu‚Äôun proxy pour votre serveur local, et nous ne stockons pas les donn√©es envoy√©es par les interfaces.</p>
<p>Gardez cependant √† l‚Äôesprit que ces liens sont accessibles au public, ce qui signifie que n‚Äôimporte qui peut utiliser votre mod√®le pour la pr√©diction ! Par cons√©quent, assurez-vous de ne pas exposer d‚Äôinformations sensibles √† travers les fonctions que vous √©crivez, ou de permettre que des changements critiques se produisent sur votre appareil. Si vous d√©finissez <code>share=False</code> (la valeur par d√©faut), seul un lien local est cr√©√©.</p>
<h3 class="relative group"><a id="hbergement-de-votre-dmo-sur-ihugging-face-spacesi" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#hbergement-de-votre-dmo-sur-ihugging-face-spacesi"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a>
	<span>H√©bergement de votre d√©mo sur <i>Hugging Face Spaces</i></span></h3>

<p>Un lien de partage que vous pouvez passer √† vos coll√®gues est cool, mais comment pouvez-vous h√©berger de fa√ßon permanente votre d√©mo et la faire exister dans son propre ¬´ espace ¬ª sur internet ?</p>
<p><em>Hugging Face Spaces</em> fournit l‚Äôinfrastructure pour h√©berger de fa√ßon permanente votre d√©mo <em>Gradio</em> sur internet et <strong>gratuitement</strong> ! <em>Spaces</em> vous permet de cr√©er et de pousser vers un d√©p√¥t (public ou priv√©) le code de votre interface <em>Gradio</em>. Il sera plac√© dans un fichier <code>app.py</code>. <a href="https://huggingface.co/blog/gradio-spaces" rel="nofollow">Lisez ce tutoriel √©tape par √©tape</a> pour commencer ou regardez la vid√©o ci-dessous.</p>
<iframe class="w-full xl:w-4/6 h-80" src="https://www.youtube-nocookie.com/embed/LS9Y2wDVI0k" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h2 class="relative group"><a id="appliquons-a" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#appliquons-a"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a>
	<span>‚úèÔ∏è Appliquons √ßa !
	</span></h2>

<p>En utilisant ce que nous avons appris dans les sections pr√©c√©dentes, cr√©ons la d√©mo de reconnaissance de croquis que nous avons d√©crit dans la <a href="/course/fr/chapter9/1">section un de ce chapitre</a>. Ajoutons quelques personnalisations √† notre interface et d√©finissons <code>share=True</code> pour cr√©er un lien public que nous pouvons faire circuler.</p>
<p>Nous pouvons charger les √©tiquettes depuis <a href="https://huggingface.co/spaces/dawood/Sketch-Recognition/blob/main/class_names.txt" rel="nofollow">class_names.txt</a> et charger le mod√®le Pytorch pr√©-entra√Æn√© depuis <a href="https://huggingface.co/spaces/dawood/Sketch-Recognition/blob/main/pytorch_model.bin" rel="nofollow">pytorch_model.bin</a>. T√©l√©chargez ces fichiers en suivant le lien et en cliquant sur ¬´ <em>download</em> ¬ª dans le coin sup√©rieur gauche de l‚Äôaper√ßu du fichier. Regardons le code ci-dessous pour voir comment nous utilisons ces fichiers pour charger notre mod√®le et cr√©er une fonction <code>predict()</code> :</p>

	<div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg>
	<div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div>
	Copied</div></button></div>
	<pre><!-- HTML_TAG_START --><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path
<span class="hljs-keyword">import</span> torch
<span class="hljs-keyword">import</span> gradio <span class="hljs-keyword">as</span> gr
<span class="hljs-keyword">from</span> torch <span class="hljs-keyword">import</span> nn

LABELS = Path(<span class="hljs-string">&quot;class_names.txt&quot;</span>).read_text().splitlines()

model = nn.Sequential(
    nn.Conv2d(<span class="hljs-number">1</span>, <span class="hljs-number">32</span>, <span class="hljs-number">3</span>, padding=<span class="hljs-string">&quot;same&quot;</span>),
    nn.ReLU(),
    nn.MaxPool2d(<span class="hljs-number">2</span>),
    nn.Conv2d(<span class="hljs-number">32</span>, <span class="hljs-number">64</span>, <span class="hljs-number">3</span>, padding=<span class="hljs-string">&quot;same&quot;</span>),
    nn.ReLU(),
    nn.MaxPool2d(<span class="hljs-number">2</span>),
    nn.Conv2d(<span class="hljs-number">64</span>, <span class="hljs-number">128</span>, <span class="hljs-number">3</span>, padding=<span class="hljs-string">&quot;same&quot;</span>),
    nn.ReLU(),
    nn.MaxPool2d(<span class="hljs-number">2</span>),
    nn.Flatten(),
    nn.Linear(<span class="hljs-number">1152</span>, <span class="hljs-number">256</span>),
    nn.ReLU(),
    nn.Linear(<span class="hljs-number">256</span>, <span class="hljs-built_in">len</span>(LABELS)),
)
state_dict = torch.load(<span class="hljs-string">&quot;pytorch_model.bin&quot;</span>, map_location=<span class="hljs-string">&quot;cpu&quot;</span>)
model.load_state_dict(state_dict, strict=<span class="hljs-literal">False</span>)
model.<span class="hljs-built_in">eval</span>()


<span class="hljs-keyword">def</span> <span class="hljs-title function_">predict</span>(<span class="hljs-params">im</span>):
    x = torch.tensor(im, dtype=torch.float32).unsqueeze(<span class="hljs-number">0</span>).unsqueeze(<span class="hljs-number">0</span>) / <span class="hljs-number">255.0</span>
    <span class="hljs-keyword">with</span> torch.no_grad():
        out = model(x)
    probabilities = torch.nn.functional.softmax(out[<span class="hljs-number">0</span>], dim=<span class="hljs-number">0</span>)
    values, indices = torch.topk(probabilities, <span class="hljs-number">5</span>)
    <span class="hljs-keyword">return</span> {LABELS[i]: v.item() <span class="hljs-keyword">for</span> i, v <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(indices, values)}<!-- HTML_TAG_END --></pre></div>
<p>Maintenant que nous avons une fonction <code>predict()</code>. La prochaine √©tape est de d√©finir et de lancer notre interface <em>Gradio</em> :</p>

	<div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg>
	<div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div>
	Copied</div></button></div>
	<pre><!-- HTML_TAG_START -->interface = gr.Interface(
    predict,
    inputs=<span class="hljs-string">&quot;sketchpad&quot;</span>,
    outputs=<span class="hljs-string">&quot;label&quot;</span>,
    theme=<span class="hljs-string">&quot;huggingface&quot;</span>,
    title=<span class="hljs-string">&quot;Sketch Recognition&quot;</span>,
    description=<span class="hljs-string">&quot;Who wants to play Pictionary? Draw a common object like a shovel or a laptop, and the algorithm will guess in real time!&quot;</span>,
    <span class="hljs-comment"># Qui veut jouer au Pictionary ? Dessinez un objet courant comme une pelle ou un ordinateur portable, et l&#x27;algorithme le devinera en temps r√©el !</span>
    article=<span class="hljs-string">&quot;&lt;p style=&#x27;text-align: center&#x27;&gt;Sketch Recognition | Demo Model&lt;/p&gt;&quot;</span>,
    live=<span class="hljs-literal">True</span>,
)
interface.launch(share=<span class="hljs-literal">True</span>)<!-- HTML_TAG_END --></pre></div>
<iframe src="https://hf.space/gradioiframe/course-demos/Sketch-Recognition/+" frameborder="0" height="650" title="Gradio app" class="container p-0 flex-grow space-iframe" allow="accelerometer; ambient-light-sensor; autoplay; battery; camera; document-domain; encrypted-media; fullscreen; geolocation; gyroscope; layout-animations; legacy-image-formats; magnetometer; microphone; midi; oversized-images; payment; picture-in-picture; publickey-credentials-get; sync-xhr; usb; vr ; wake-lock; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-downloads"></iframe>
<p>Remarquez le param√®tre <code>live=True</code> dans <code>Interface</code>, qui signifie que la d√©mo de sketchs fait une pr√©diction chaque fois que quelqu‚Äôun dessine sur le bloc (pas de bouton de soumission !). </p>
<p>De plus, nous avons √©galement d√©fini l‚Äôargument <code>share=True</code> dans la m√©thode <code>launch()</code>.
Cela cr√©era un lien public que vous pourrez envoyer √† n‚Äôimporte qui ! Lorsque vous envoyez ce lien, l‚Äôutilisateur de l‚Äôautre c√¥t√© peut essayer le mod√®le de reconnaissance de croquis. Pour r√©it√©rer, vous pouvez √©galement h√©berger le mod√®le sur <em>Hugging Face Spaces</em>, ce qui nous permet d‚Äôint√©grer la d√©mo ci-dessus.</p>
<p>La prochaine fois, nous couvrirons d‚Äôautres fa√ßons dont <em>Gradio</em> peut √™tre utilis√© avec l‚Äô√©cosyst√®me d‚Äô<em>Hugging Face</em> !</p>


		<script type="module" data-hydrate="1gzkjd4">
		import { start } from "/docs/course/main/fr/_app/start-hf-doc-builder.js";
		start({
			target: document.querySelector('[data-hydrate="1gzkjd4"]').parentNode,
			paths: {"base":"/docs/course/main/fr","assets":"/docs/course/main/fr"},
			session: {},
			route: false,
			spa: false,
			trailing_slash: "never",
			hydrate: {
				status: 200,
				error: null,
				nodes: [
					import("/docs/course/main/fr/_app/pages/__layout.svelte-hf-doc-builder.js"),
						import("/docs/course/main/fr/_app/pages/chapter9/4.mdx-hf-doc-builder.js")
				],
				params: {}
			}
		});
	</script>
